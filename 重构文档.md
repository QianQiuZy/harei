重构文档

# 整体架构

 - 原有所有代码均可废弃，全部推翻重写即可（仅需保留此文件和blivedm文件夹blivedm文件夹层级可以变动方便处理）
 - 使用docker进行管理，.env管理环境
 - 使用github actions进行docker处理发行
 - 单docker文件即可前后端同时启动，并开启端口，docker中不用有nginx相关文件（这部分我自己处理）
 - 数据库使用mysql不变
 - 前后端分离
 - 前端react，后端flask
 - 前端使用pnpm管理react-

## 前端界面

 - 保持原有基本功能不变
 - 提问箱部分需要更友好的反馈和显示
 - 原有在电脑上显示横向占满的所有框架均调至2/3显示
 - 去除/audit部分，直接使用/message进行查看，删除改为数据库状态标记为删除而不是直接删除数据库行
 - /box的提交需要附带原始ip（X-Real-IP）
 - 后端管理界面改为token管理，redis记录token，新增舰长管理和电子礼物管理界面，/addmusic部分删除
 - 口水黄豆部分使用身份码连接直播间而不是原有的cookies连接，直播状态改为从这里获取直播开始和直播结束事件同步
 - 舰长管理部分为身份码连接获取舰长上舰事件，并保存到数据库（按月保存），并可以按月拉取和下载xlsx文件
 - 原有腾讯云对象存储文件均改为本地文件访问（静态文件）
 - 提问箱后台部分整体修改，改为每个留言都有独立的blank，2/3显示，点击blank后可以浏览器全屏显示，右上角退出，整体显示可以参考：https://ask.vjoi.cn/，源代码https://github.com/Xinrea/JoiAsk
 - 增加历史提问箱部分，由旧到新显示，支持选择tag检索（历史所有tag）
 - 前端返回图片的时候优先预返回缩略图（后端提前处理）点击某个blank后再显示原图
 - 非管理界面的背景图改为多张背景图，并每5秒切换（渐入渐出效果切换）
 - 管理主界面集成tag处理、舰长情况快速阅览，当前提问箱稿件数量等
 - 移动端友好（专门为移动端设计宽度等兼容显示）

## 后端部分

 - 后端部分需要对图片进行处理，所有图片先转为.jpg格式80%质量，后转为缩略图（缩略图快速显示）有png透明层的将透明层默认转换即可（白底）
 - message数据库部分改为message_id,message_text,tag,status,created_at,IP（删除guest_id字段，新增IP字段）
 - music数据库改为每次启动的时候读取内存，每天读取一次数据库并缓存到内存中（此数据库尽量低频率访问）
 - 整体架构使用flask，直播间连接部分部分独立运行（可以使用其他架构），直播间连接部分使用https://github.com/xfgryujk/blivedm，身份码连接
 - 静态文件的TTL处理为30天，降低访问量
 - uploads文件夹单独处理，不放在主文件夹中
 - 原有api所有功能均需要完美实现
 - 给出完整的源架构迁移文档（数据部分需要继承）
 - 原有数据已导出为.sql文件，原有图片在主目录pic.zip文件
